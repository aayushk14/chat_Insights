<template name="analytics">
<div class="container" style="margin-top:60px; width: 1353px !important;">
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" id = "title">Analytics Dashboard</a>
    </div>
    <div class = "lastUpdateHeader">
     <a id = "lastUpdate" style="color:white;"> Last Updated: {{lastUpdate}} </a>
    <button id = "sync" class="btn btn-danger navbar-btn">Refresh</button>
    </div>
  </div>
</nav>
<!--
<div class="row">
<div class="col-md-6" style="padding-left:0px;">
  <h4 style="padding-top:8px;">Analytics</h4>
</div>
<div class="col-md-6">
  <p id = "lastUpdate" class="pull-right">Last Updated: {{lastUpdate}} 
   <span><button id = "sync" class="btn btn-danger navbar-btn">Refresh</button></span> 
  <button class="btn btn-default" type="button" id = "sync" style="margin-right:-17px;"><span><i class="fa fa-refresh" aria-hidden="true" style="color:#3c8dbc;"></i></span></button>
  </p>
</div>
    <div class = "lastUpdateHeader">
     
    </div>
</div> 
-->
<!-- <hr style="border-top:3px solid #c2d5de !important; margin-top:-6px"> -->
    <div class="row">
      <div class="col-md-2" style="padding-left:0px;">
        <div class="row" style="border:1px solid #ccc;">
          <div class="col-md-4 bg-red" style="height:64px; padding-top:4px;"><center><i class="fa fa-users fa-3x" style="margin-top:6px;"></i></center></div>
          <div class="col-md-8" style="background-color:gray;"><center style="padding-top:4px;"><span><b  style="font-size:15px; color:white;">{{summaryLabel 0}}</b> <h4 style="color:white;">{{summaryValue 0}}</h4></span></center></div>
        </div>
      </div>
     <div class="col-md-2" style="padding-right:0px;">
        <div class="row" style="border:1px solid #ccc;">
          <div class="col-md-4 bg-yellow" style="height:64px; padding-top:4px;"><center><i class="fa fa-sort-amount-asc fa-3x" style="margin-top:6px;"></i></center></div>
          <div class="col-md-8" style="background-color:gray;"><center style="padding-top:4px;"><span><b  style="font-size:15px; color:white;">{{summaryLabel 2}}</b> <h4 style="color:white;">{{summaryValue 2}}</h4></span></center></div>
        </div>
      </div>
      <div class="col-md-2" style="padding-right:0px;">
        <div class="row" style="border:1px solid #ccc;">
          <div class="col-md-4 " style="height:64px; padding-top:4px;background-color:cornflowerblue"><center><i class="fa fa-thumbs-o-up fa-3x" style="margin-top:6px; color: aliceblue"></i></center></div>
          <div class="col-md-8" style="background-color:gray;"><center style="padding-top:4px;"><span><b  style="font-size:15px; color:white;">{{summaryLabel 3}}</b> <h4 style="color:white;">{{summaryValue 3}} %</h4></span></center></div>
        </div>
      </div>
      <div class="col-md-3" style="padding-right:0px;">
        <div class="row" style="border:1px solid #ccc;">
          <div class="col-md-4 " style="height:64px; padding-top:4px;background-color:darkorange"><center><i class="fa fa-smile-o fa-3x" style="margin-top:6px; color: white"></i></center></div>
          <div class="col-md-8" style="background-color:gray;"><center style="padding-top:4px;"><span><b  style="font-size:15px; color:white;">{{summaryLabel 4}}</b> <h4 style="color:white;">{{summaryValue 4}} %</h4></span></center></div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="row" style="border:1px solid #ccc;">
          <div class="col-md-5 bg-green" style="height:64px;"><center><i class="fa fa-comments-o fa-4x" style="margin-top:2px;"></i></center></div>
          <div class="col-md-7" style="background-color:gray;"><center style="padding-top:4px;"><span><b  style="font-size:15px; color:white;">{{summaryLabel 1}}</b> <h4 style="color:white;">{{summaryValue 1}}</h4></span></center></div>
        </div>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-7" id="usageChart" style="border:3px solid; height:609px;">
        <div class="row">
          <center><h5><b>Conversation by Usage</b></h5></center>
        </div>
        <div class="row">
        <div class="col-md-5">
        <div class="btn-group">
          <button type="button" class="btn btn-primary" id = "day" style = "background-color: gray !important;">Today</button>
          <button type="button" class="btn btn-primary" id = "week" style = "background-color: gray !important;">Week</button>
          <button type="button" class="btn btn-primary" id = "month" style = "background-color: gray !important;">Month</button>
        </div>
        </div>
        <div class="col-md-7">
          <input type="text" id="from" name="from" placeholder = "Start Date">
          <label for="to">to</label>
          <input type="text" id="to" name="to" placeholder = "End Date">
          <button id = "dateSubmit" class="btn btn-default" type="button"><i class="fa fa-filter" aria-hidden="true" style="color:#3c8dbc;"></i></button>
        </div>
        </div>
        <div class="row">
          <div id = "lineChart">
          </div>
        <div id = "usageStats">
        <p id = "dailyTotals"><center><b>{{durationUsage}} Totals <span class = "daily"><span class= "usageCount">{{userUsage}}</span> Users </span> <span class = "daily"> <span class= "usageCount">{{conversationUsage}}</span> Conversations </span> <span class = "daily"> <span class= "usageCount">{{intentUsage}}</span> Intents </span> 
        </b></center></p>
        </div>
        </div>
      </div>
      <div class="col-md-5" style="border:3px solid">
        <div class="row">
          <center><h5><b>Conversation by Intent</b></h5></center>
          <div id = "intentPieChart"></div>
        </div>
        <br>
        <div class="row" style="border-top:3px solid">
          <center><h5><b>Conversation by Satisfaction</b></h5></center>
          <div id = "feedbackPieChart" ></div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" id = "conversationTable" style="border:3px solid;">
        <div style = "width: 100%; margin:auto; margin-top: 1%;">
         <center><p><b> Last </b><select id  = "timeline">
        <option value="10" selected>10 days</option>
        <option value="20">20 days</option>
        <option value="30">1 month</option>
        </select><b> transactions</b> </p></center>
          <br>
          <div class = "scroll" style = " border: 2px solid darkgrey; color: black; ">
            <table id="analyticalTable" border="0" style="display:block;">
              <thead style="display:block;position: sticky;top:0;">
                <tr style = "background-color: gray; color: #fff;">
                <th style="width:260px;">Timestamp</th>
                <th style="width:324px;">User</th>
                <th style="width:255px;"><select id='filter_intent' >
                      <!-- <option value='' style="display:none" selected disabled>Intents</option> -->
                      <option value="All">All Intents</option>
                       {{#each getIntents}}
                      <option value = "{{this.name}}">{{this.name}}</option>
                      {{/each}}
                      </select>
                </th>
                <th style="width:255px;">
                  <select id='filter_action' >
                      <option value="All" selected>All Action</option>
                       {{#each getActions}}
                      <option value = "{{this.action_name}}">{{this.action_name}}</option>
                      {{/each}}
                    </select> 
                </th>
                <th style="width:178px;"> View Details </th>
              </tr>
            </thead>
            <tbody>
              {{#each analyticalData}}
              <tr class="no-data">
               
                <td  style="width:260px;" id = "date" > {{time_stamp}}</td>
                <td style="width:324px;" > {{user}} </td>
                <td style="width:255px;"> {{intent}} </td>
                <td style="width:255px;" >{{action}} </td>
                <td style="width:178px;" ><a id = "view" name = "{{tid}}"> view </a></td>
              </tr>
              {{/each}}
            </tbody>
</table>
<!-- <br> -->
          </div>
        </div>
        <br>
      </div>
    </div>
</div>
<br>
</template>